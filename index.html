<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TreinoUpFitness ðŸ’ª</title>
<meta name="theme-color" content="#e50914">
<link rel="manifest" href="manifest.json">
<style>
  :root {
    --bg: #0a0a0a;
    --card: #1a1a1a;
    --text: #fff;
    --accent: #e50914;
    --danger: #ff4444;
    --border: #333;
  }
  body.light {
    --bg: #f9f9f9;
    --card: #fff;
    --text: #111;
    --accent: #c20010;
    --danger: #ff4444;
    --border: #ccc;
  }
  body {
    margin:0; padding:1rem; font-family:sans-serif;
    background:var(--bg); color:var(--text); transition:0.3s;
  }
  h1{text-align:center;color:var(--accent);margin-bottom:1rem;}
  .container{max-width:900px;margin:auto;}
  .add-form{display:flex;flex-wrap:wrap;gap:0.5rem;justify-content:center;margin-bottom:1rem;}
  input,select,button,textarea{
    padding:0.6rem 0.8rem;border-radius:8px;border:1px solid var(--border);
    background:var(--card);color:var(--text);flex:1;min-width:120px;
  }
  button{background:var(--accent);border:none;cursor:pointer;font-weight:600;color:#fff;}
  button:hover{opacity:0.85;transform:scale(1.02);}
  .theme-toggle{
    position:fixed;top:8px;right:8px;
    padding:0.35rem 0.6rem;font-size:0.8rem;
    border-radius:8px;border:1px solid var(--border);
    background:var(--card);color:var(--text);
    cursor:pointer;z-index:10;
  }
  .section{margin-bottom:1.5rem;}
  h2{color:var(--accent);border-bottom:1px solid var(--border);padding-bottom:0.3rem;font-size:1.2rem;margin-top:0;}
  ul{list-style:none;padding:0;margin:0;}
  li{
    background:var(--card);border:1px solid var(--border);border-radius:12px;
    padding:0.8rem;margin-bottom:1rem;box-shadow:0 2px 6px rgba(0,0,0,0.3);
    transition:0.3s;
  }
  li:hover{transform: translateY(-1px);}
  .btnExcluir{background:var(--danger);color:#fff;border:none;padding:0.3rem 0.6rem;border-radius:6px;cursor:pointer;margin-top:0.3rem;font-size:0.85rem;}
  .btnExcluir:hover{opacity:0.85;}
  .feedback{position:fixed;top:20px;left:50%;transform:translateX(-50%);background:var(--accent);color:#fff;padding:0.5rem 1rem;border-radius:8px;font-weight:600;box-shadow:0 3px 6px rgba(0,0,0,0.3);opacity:0;animation:fadeOut 2s forwards;z-index:10;}
  @keyframes fadeOut{0%{opacity:1;}90%{opacity:1;}100%{opacity:0;}}
  .carga-item{
    background: rgba(255,255,255,0.05);
    border-radius:6px; padding:0.3rem 0.5rem;
    margin:0.2rem 0; font-size:0.85rem;
    display:flex; justify-content:space-between; align-items:center;
  }
  .carga-btns button{background:none;border:none;color:var(--accent);cursor:pointer;margin-left:0.3rem;font-size:0.8rem;}
  .carga-btns button:hover{text-decoration:underline;}
  .obs-area{
    width:100%;margin-top:0.4rem;resize:vertical;min-height:50px;
    font-size:0.9rem;border:1px solid var(--border);
  }
</style>
</head>
<body>
<button class="theme-toggle" id="toggleTheme">ðŸŒ™</button>
<div class="container">
<h1>TreinoUpFitness ðŸ’ª</h1>
<div class="add-form">
<input type="text" id="nomeExercicio" placeholder="Nome do exercÃ­cio">
<select id="tipoExercicio">
<option value="superior">Superiores</option>
<option value="inferior">Inferiores</option>
</select>
<button onclick="adicionarExercicio()">Adicionar</button>
</div>
<div class="section">
<h2>Superiores</h2>
<ul id="listaSuperiores"></ul>
</div>
<div class="section">
<h2>Inferiores</h2>
<ul id="listaInferiores"></ul>
</div>
</div>
<script>
const body=document.body;
const btnTema=document.getElementById('toggleTheme');
if(localStorage.getItem('tema')==='light') body.classList.add('light');
atualizarTextoBotao();
btnTema.addEventListener('click',()=>{
  body.classList.toggle('light');
  localStorage.setItem('tema',body.classList.contains('light')?'light':'dark');
  atualizarTextoBotao();
  document.querySelector('meta[name="theme-color"]').setAttribute('content', body.classList.contains('light')?'#c20010':'#e50914');
});
function atualizarTextoBotao(){ btnTema.textContent = body.classList.contains('light')?'ðŸŒ™':'â˜€ï¸'; }
function obterExercicios(){ return JSON.parse(localStorage.getItem('exercicios')||'[]'); }
function salvarExercicios(ex){ localStorage.setItem('exercicios',JSON.stringify(ex)); }
function mostrarFeedback(texto){ const msg=document.createElement('div'); msg.className='feedback'; msg.textContent=texto; document.body.appendChild(msg); setTimeout(()=>msg.remove(),2000);}
function adicionarExercicio(){
  const nome=document.getElementById('nomeExercicio').value.trim();
  const tipo=document.getElementById('tipoExercicio').value;
  if(!nome) return mostrarFeedback("âš ï¸ Digite o nome do exercÃ­cio!");
  const exercicios=obterExercicios();
  exercicios.push({id:Date.now(),nome,tipo,historico:[],observacoes:""});
  exercicios.sort((a,b)=>a.nome.localeCompare(b.nome));
  salvarExercicios(exercicios);
  renderizarListas();
  document.getElementById('nomeExercicio').value='';
  mostrarFeedback("ðŸ‹ï¸â€â™€ï¸ ExercÃ­cio adicionado!");
}
function adicionarCarga(id){
  const carga=prompt("Digite a carga (kg):");
  if(!carga) return;
  const exercicios=obterExercicios();
  const ex=exercicios.find(e=>e.id===id);
  ex.historico.push({id:Date.now(),data:new Date().toLocaleDateString('pt-BR'),carga:parseFloat(carga)});
  if(ex.historico.length>30) ex.historico=ex.historico.slice(-30);
  salvarExercicios(exercicios);
  renderizarListas();
  mostrarFeedback("ðŸ’ª Carga registrada!");
}
function editarCarga(idEx,idCarga){
  const exercicios=obterExercicios();
  const ex=exercicios.find(e=>e.id===idEx);
  const cargaItem=ex.historico.find(h=>h.id===idCarga);
  const nova=prompt("Nova carga (kg):",cargaItem.carga);
  if(!nova) return;
  cargaItem.carga=parseFloat(nova);
  salvarExercicios(exercicios);
  renderizarListas();
  mostrarFeedback("âœï¸ Carga atualizada!");
}
function removerCarga(idEx,idCarga){
  const exercicios=obterExercicios();
  const ex=exercicios.find(e=>e.id===idEx);
  ex.historico=ex.historico.filter(h=>h.id!==idCarga);
  salvarExercicios(exercicios);
  renderizarListas();
  mostrarFeedback("ðŸ—‘ï¸ Carga removida!");
}
function atualizarObservacao(id, valor){
  const exercicios=obterExercicios();
  const ex=exercicios.find(e=>e.id===id);
  ex.observacoes = valor;
  salvarExercicios(exercicios);
}
function excluirExercicio(id){
  if(!confirm("Tem certeza que deseja excluir este exercÃ­cio?")) return;
  let exercicios=obterExercicios().filter(e=>e.id!==id);
  salvarExercicios(exercicios);
  renderizarListas();
  mostrarFeedback("ðŸ—‘ï¸ ExercÃ­cio excluÃ­do!");
}
function renderizarListas(){
  const superiores=document.getElementById('listaSuperiores');
  const inferiores=document.getElementById('listaInferiores');
  superiores.innerHTML=''; inferiores.innerHTML='';
  const exercicios=obterExercicios();
  exercicios.forEach(ex=>{
    const li=document.createElement('li');
    let ultimo=ex.historico[ex.historico.length-1];
    li.innerHTML=`
      <strong>${ex.nome}</strong><br>
      ${ultimo?`<small>Ãšltima carga: ${ultimo.carga} kg (${ultimo.data})</small>`:'<small>Sem carga registrada</small>'}<br>
      <button onclick="adicionarCarga(${ex.id})">Adicionar Carga</button>
      <button class="btnExcluir" onclick="excluirExercicio(${ex.id})">Excluir ExercÃ­cio</button>
      <div id="historico-${ex.id}">
      ${ex.historico.map(h=>`
        <div class="carga-item">
          <span>${h.data}: ${h.carga} kg</span>
          <div class="carga-btns">
            <button onclick="editarCarga(${ex.id},${h.id})">Editar</button>
            <button onclick="removerCarga(${ex.id},${h.id})">Remover</button>
          </div>
        </div>`).join('')}
      </div>
      <label for="obs-${ex.id}" style="font-size:0.9rem;margin-top:0.5rem;display:block;">ObservaÃ§Ãµes:</label>
      <textarea id="obs-${ex.id}" class="obs-area" placeholder="Adicione observaÃ§Ãµes aqui...">${ex.observacoes||''}</textarea>
    `;
    li.querySelector(`#obs-${ex.id}`).addEventListener('input', e => {
      atualizarObservacao(ex.id, e.target.value);
    });
    if(ex.tipo==='superior') superiores.appendChild(li);
    else inferiores.appendChild(li);
  });
}
renderizarListas();
</script>
</body>
</html>